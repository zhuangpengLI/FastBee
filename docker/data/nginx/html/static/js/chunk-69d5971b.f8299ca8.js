(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69d5971b"],{"93bb":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return p}));n("5530");var r=n("c7eb"),a=n("1da1"),o=(n("d3b7"),n("99af"),n("bc3a")),c=n.n(o),i={ENC:!1,baseUrl:"http://locolhost:8888",code:401},s=i,u=(n("a18c"),s.baseUrl);c.a.CancelToken;c.a.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers.common["Content-Type"]="application/json;charset=utf-8",e.headers.common["token"]=t,e}),(function(e){return console.log(e),Promise.reject(e)})),c.a.interceptors.response.use((function(e){return 200!==e.status?Promise.reject(e):(e.data.code,s.code,e.data)}),(function(e){var t={success:!1,msg:"未知异常，请联系管理员！"};return Promise.reject(t)}));var l={headers:{enc:s.ENC}},f=function(e){return e},h=function(){var e=Object(a["a"])(Object(r["a"])().mark((function e(t,n){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=f(n),e.next=4,c.a.get("".concat(u).concat(t),{params:n,headers:l.headers},l);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(a["a"])(Object(r["a"])().mark((function e(t,n){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get(t,{params:n});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(a["a"])(Object(r["a"])().mark((function e(t,n){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=f(n),e.next=4,c.a.post("".concat(u).concat(t),n,l);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()},e100:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("93bb"),a={big1:"/bigscreen/countUserNum",big2:"/bigscreen/countDeviceNum",big3:"/bigscreen/sbtx",big4:"/bigscreen/alarmNum",big5:"/bigscreen/ssyj",big6:"/bigscreen/installationPlan",big7:"/bigscreen/ranking",big8:"/bigscreen/centermap"},o=function(e,t){return r["a"](a[e],t)}},e569:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.pageflag?n("Echart",{ref:"charts",staticClass:"left_center_inner",attrs:{id:"leftCenter",options:e.options}}):n("Reacquire",{staticStyle:{"line-height":"200px"},on:{onclick:e.getData}},[e._v(" 重新获取 ")])},a=[],o=n("5530"),c=(n("a15b"),n("e100")),i={data:function(){return{options:{},countUserNumData:{lockNum:0,onlineNum:0,offlineNum:0,totalNum:0},pageflag:!0,timer:null}},created:function(){this.getData()},mounted:function(){},beforeDestroy:function(){this.clearData()},methods:{clearData:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},getData:function(){var e=this;this.pageflag=!0,Object(c["a"])("big1").then((function(t){e.timer||console.log("设备总览",t),t.success?(e.countUserNumData=t.data,e.$nextTick((function(){e.init(),e.switper()}))):(e.pageflag=!1,e.$Message({text:t.msg,type:"warning"}))}))},switper:function(){var e=this;if(!this.timer){var t=function(t){e.getData()};this.timer=setInterval(t,this.$store.state.settings.echartsAutoTime);var n=this.$refs.charts.chart;n.on("mouseover",(function(t){e.clearData()})),n.on("mouseout",(function(n){e.timer=setInterval(t,e.$store.state.settings.echartsAutoTime)}))}},init:function(){var e=this.countUserNumData.totalNum,t=["#ECA444","#33A1DB","#56B557"],n={name:"用户总览",type:"pie",radius:["42%","65%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:4,borderColor:"rgba(0,0,0,0)",borderWidth:2},color:t,data:[{value:this.countUserNumData.lockNum,name:"锁定",label:{shadowColor:t[0]}},{value:this.countUserNumData.onlineNum,name:"在线",label:{shadowColor:t[2]}},{value:this.countUserNumData.offlineNum,name:"离线",label:{shadowColor:t[1]}}]};this.options={title:{text:["{value|"+e+"}","{name|总数}"].join("\n"),top:"center",left:"center",textStyle:{rich:{value:{color:"#ffffff",fontSize:24,fontWeight:"bold",lineHeight:20},name:{color:"#ffffff",lineHeight:20}}}},tooltip:{trigger:"item",backgroundColor:"rgba(0,0,0,.6)",borderColor:"rgba(147, 235, 248, .8)",textStyle:{color:"#FFF"}},legend:{show:!1,top:"5%",left:"center"},series:[Object(o["a"])(Object(o["a"])({},n),{},{tooltip:{show:!0},label:{formatter:"   {b|{b}}   \n   {c|{c}个}   {per|{d}%}  ",rich:{b:{color:"#fff",fontSize:12,lineHeight:26},c:{color:"#31ABE3",fontSize:14},per:{color:"#31ABE3",fontSize:14}}},labelLine:{length:20,length2:36,show:!0,emphasis:{show:!0}}}),Object(o["a"])(Object(o["a"])({},n),{},{tooltip:{show:!0},itemStyle:{},label:{backgroundColor:"auto",height:0,width:0,lineHeight:0,borderRadius:2.5,shadowBlur:8,shadowColor:"auto",padding:[2.5,-2.5,2.5,-2.5]},labelLine:{length:20,length2:36,show:!1}})]}}}},s=i,u=n("2877"),l=Object(u["a"])(s,r,a,!1,null,"726e7123",null);t["default"]=l.exports}}]);